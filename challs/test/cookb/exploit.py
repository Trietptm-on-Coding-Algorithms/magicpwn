#!/home/gym/.venvs/ctf/bin/python2
import os
import sys
from pwn import *
c = None
m = None

def main():
    e = m.load_elf()
    l = m.load_libc()


    c.interactive()

# options: local/remote libc, aslr, debugger, target (vm, native, remote)
# break points: _init+

if __name__ == "__main__":
    sys.path.append(os.path.expanduser('~/ctf/magicpwn'))
    try:
        from magicpwn import Magic
        # target: vm/native/remote
        # libc: vm/native/remote
        # config: path to config file
        # debug: gdb/villoc/gdbv/none
        #m = Magic('vm', 'villoc', aslr=False, libc='local')
        m = Magic('native', 'gdb', aslr=False, libc='local')
        #m = Magic('remote', 'none', libc='remote')
        c = m.start()
    except ImportError:
        c = process("./test/cookb/cookbook")

    main()
